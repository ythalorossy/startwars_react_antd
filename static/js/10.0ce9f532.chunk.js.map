{"version":3,"sources":["components/Species/Species.js"],"names":["Species","columns","title","dataIndex","key","defaultSortOrder","sorter","a","b","name","localeCompare","classification","render","designation","language","fixed","text","record","id","url","match","replaceAll","href","useState","current","pageSize","pagination","setPagination","data","useFetch","isError","message","type","className","subTitle","dataSource","results","total","count","pageSizeOptions","onChange","filters","extra","action","rowKey","loading","spinning","isFetching","size"],"mappings":"0NAiGeA,UA1FC,WACd,IAAMC,EAAU,CACd,CACEC,MAAO,OACPC,UAAW,OACXC,IAAK,OACLC,iBAAkB,SAClBC,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,KAAKC,cAAcF,EAAEC,QAE3C,CACEP,MAAO,iBACPC,UAAW,iBACXC,IAAK,iBACLE,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEI,eAAeD,cAAcF,EAAEG,kBAErD,CACET,MAAO,cACPC,UAAW,cACXC,IAAK,cACLQ,OAAQ,SAACC,GAAD,gBAAoBA,KAE9B,CACEX,MAAO,WACPC,UAAW,WACXC,IAAK,WACLQ,OAAQ,SAACE,GAAD,gBAAiBA,KAE3B,CACEZ,MAAO,aACPC,UAAW,cACXC,IAAK,eAEP,CACEF,MAAO,aACPC,UAAW,cACXC,IAAK,eAEP,CACEF,MAAO,SACPE,IAAK,YACLW,MAAO,QACPH,OAAQ,SAACI,EAAMC,GACb,IAAMC,EAAKD,EAAOE,IAAIC,MAAM,WAAW,GAAGC,WAAW,IAAK,IAEpDF,EAAG,mBAAeD,GACxB,OAAO,cAAC,IAAD,CAAGI,KAAMH,EAAT,wBA7CO,EAkDgBI,mBAAS,CAC3CC,QAAS,EACTC,SAAU,KApDQ,mBAkDbC,EAlDa,KAkDDC,EAlDC,KAuDdC,EAAOC,YAAS,WAAYH,GAQlC,OAAIE,EAAKE,QAAgB,cAAC,IAAD,CAAOC,QAAQ,aAAaC,KAAK,UAExD,qCACE,cAAC,IAAD,CACEC,UAAU,mBACV/B,MAAM,UACNgC,SAAS,8BAEX,cAAC,IAAD,CACEC,WAAYP,EAAKA,KAAKQ,QACtBnC,QAASA,EACTyB,WAAU,2BACLA,GADK,IAERW,MAAOT,EAAKA,KAAKU,MACjBC,gBAAiB,CAAC,MAEpBC,SAtBN,SAAsBd,EAAYe,EAASnC,EAAQoC,GAC5B,aAAjBA,EAAMC,QACRhB,EAAc,eAAKD,KAqBjBkB,OAAQ,SAAC3B,GAAD,OAAYA,EAAOE,KAC3B0B,QAAS,CACPC,SAAUlB,EAAKmB,WACfC,KAAM","file":"static/js/10.0ce9f532.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport { PageHeader, Alert, Table } from \"antd\";\nimport { A } from \"hookrouter\";\n\nimport { useFetch } from \"../../start-wars\";\nimport \"./Species.less\";\n\nconst Species = () => {\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      key: \"name\",\n      defaultSortOrder: \"ascend\",\n      sorter: (a, b) => a.name.localeCompare(b.name),\n    },\n    {\n      title: \"Classification\",\n      dataIndex: \"classification\",\n      key: \"classification\",\n      sorter: (a, b) => a.classification.localeCompare(b.classification),\n    },\n    {\n      title: \"Designation\",\n      dataIndex: \"designation\",\n      key: \"designation\",\n      render: (designation) => `${designation}`,\n    },\n    {\n      title: \"language\",\n      dataIndex: \"language\",\n      key: \"language\",\n      render: (language) => `${language}`,\n    },\n    {\n      title: \"Hair Color\",\n      dataIndex: \"hair_colors\",\n      key: \"hair_colors\",\n    },\n    {\n      title: \"Skin Color\",\n      dataIndex: \"skin_colors\",\n      key: \"skin_colors\",\n    },\n    {\n      title: \"Action\",\n      key: \"operation\",\n      fixed: \"right\",\n      render: (text, record) => {\n        const id = record.url.match(/(\\d+)/gm)[0].replaceAll(\"/\", \"\");\n\n        const url = `/species/${id}`;\n        return <A href={url}>details</A>;\n      },\n    },\n  ];\n\n  const [pagination, setPagination] = useState({\n    current: 1,\n    pageSize: 10,\n  });\n\n  const data = useFetch(`/species`, pagination);\n\n  function handleChange(pagination, filters, sorter, extra) {\n    if (extra.action === \"paginate\") {\n      setPagination({ ...pagination });\n    }\n  }\n\n  if (data.isError) return <Alert message=\"Error Text\" type=\"error\" />;\n  return (\n    <>\n      <PageHeader\n        className=\"site-page-header\"\n        title=\"Species\"\n        subTitle=\"List of Star Wars Species\"\n      />\n      <Table\n        dataSource={data.data.results}\n        columns={columns}\n        pagination={{\n          ...pagination,\n          total: data.data.count,\n          pageSizeOptions: [10],\n        }}\n        onChange={handleChange}\n        rowKey={(record) => record.url}\n        loading={{\n          spinning: data.isFetching,\n          size: \"large\",\n        }}\n      />\n    </>\n  );\n};\n\nexport default Species;\n"],"sourceRoot":""}